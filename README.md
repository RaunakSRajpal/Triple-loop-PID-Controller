# Triple-loop-PID-Controller
This project is a real-life implementation of the research paper [Motor control application based on STM32 and PID control theory by Zhao Zhetuo, HKUST](../) on an Arduino UNO.

The objective of the project is to precisely control the rotation angle and rotational speed of a DC brush motor, which is provided by a potentiometer. The developed board should be able to toggle between speed controller configuration and angle controller configuration.

## Control Algorithm
The control law is based on 3 cascaded PID (Proportional Integral Derivative) control loops, regulating individually over the **driver current**, **angular speed (rpm)** of the motor, and the **rotation angle** of the motor.

The innermost PID loop controlling the motor current, and the outermost loop controlling the theta.

![alt text](https://github.com/RaunakSRajpal/Triple-loop-PID-Controller/blob/main/Circuit%20Schematics/20210513_214107.jpg "front side")

### TVP
Trapezoidal velocity profile (TVP) generation has been used for getting the setpoint angular speed (rpm). The TVP is generated by the following equations:

![alt text](https://github.com/RaunakSRajpal/Triple-loop-PID-Controller/blob/main/Circuit%20Schematics/20210513_214107.jpg "front side")
